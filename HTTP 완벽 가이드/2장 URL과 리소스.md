## 2.1 인터넷의 리소스 탐색하기

처음부터 일관된 명명 방식이 있었던 것은 아님

### URL의 구조

```
http://www.naver.com/index.html
스킴://서버위치/경로
```

- 스킴
    - URL의 첫 부분, `http` 를 가리킴
    - 웹 클라이언트가 리소스에 어떻게 접근할지 알려줌
- 서버의 위치
    - `[www.naver.com](http://www.naver.com)`
    - 웹 클라이언트가 리소스가 어디에 호스팅 되어있는지 알려줌
- 리소스의 경로
    - `/index.html`
    - 서버에 존재하는 로컬 리소스 중 요청 받은 리소스가 무엇인지
    

## 2.2 URL 문법

- URL 문법은 스킴에 따라 달라짐
    - 전혀 다른 문법이 되는건 아님

```
<스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<쿼리>#<프래그먼트>
```

| 컴포넌트 | 설명 | 기본값 |
| --- | --- | --- |
| 스킴 | 리소스를 가져오려면 어떤 프로토콜을 사용해야하는지 가리킴 | X |
| 사용자 이름 | 몇 스킴 (ex FTP) 은 리소스에 접근하려면 사용자 이름 필요 | anonymous |
| 비밀번호 | 사용자의 비밀번호 | <이메일 주소> |
| 호스트 | 리소스를 호스팅하는 서버의 호스트 명 or IP 주소 | X |
| 포트 | 리소스를 호스팅 하는 서버가 열어놓은 포트 번호 (HTTP의 경우 80이 기본) | 스킴마다 다름 |
| 경로 | 서버 내 리소스가 어디에 있는지 가리킴. ‘/’ 를 사용해 경로 조각으로 나눔. 경로 문법은 서버와 스킴에 따라 다르다. | X |
| 파라미터 | 특정 스킴들에서 입력 파라미터를 가리킴. 파라미터는 이름/값을 쌍으로 가지며, 세미콜론으로 구분함 ex) ;type=t | X |
| 쿼리 | 요청 받을 리소스 형식의 범위를 좁히기 위해 사용 ?item=1234&color=blue | X |
| 프래그먼트 | 리소스의 특정 조각이나 일부분을 가리킴.  | X |

## 2.3 단축 URL

### 상대 URL

- 절대 URL과 다르게 모든 정보를 가지고 있지 않음
- 리소스에 접근하기 위해서는 기저(base)라고 하는 다른 URL을 사용해야 함

### 상대 URL과 절대 URL의 변환

- 기저 URL 찾기
    - 리소스에서 명시적으로 제공 (`<base>` 태그)
    - 리소스를 포함하고 있는 기저 URL
    - 기저 URL이 없는 경우(보통 절대 URL이라는 뜻)
- 상대 참조 해석하기 (URL 분해하기)
    - URL을 각각의 컴포넌트 조각으로 나누는 것
    
    ![Untitled](https://user-images.githubusercontent.com/55427367/183956970-d4ad243d-278a-4a5e-9611-17bc3efcd18c.png)
    1. 경로는 `./index.html` , 기저 URL은 `[http://naver.com](http://naver.com)` 이다.
    2. 스킴이 비어있어 왼쪽으로 내려가면 기저 URL의 스킴을 상속 받는다.
    3. 적어도 한 개의 컴포넌트가 비어있지 않다→호스트와 포트 컴포넌트를 상속 받는다.
    4. 상대 URL 컴포넌트(`./index.html`)와 상속받은 컴포넌트(스킴: `http` , 호스트: `[www.naver.com](http://www.naver.com)` , 포트: `80`)을 합치면 새로운 절대 URL `[http://naver.com/index.html](http://naver.com/index.html)` 을 얻을 수 있다.
    

### URL 확장

- 호스트명 확장
    - 예를 들어 주소에 `naver` 을 입력하면, 브라우저는 자동으로 `www` 와 `.com` 을 붙여 `[www.naver.com](http://www.naver.com)` 을 만든다.
    - `naver` 이라는 단어를 포함한 사이트를 찾지 못한다면, 몇가지 URL을 추가적으로 제시한다.
    - 사용자의 시간 절약, 혼란을 막아줌
- 히스토리 확장
    - 사용자가 과거에 방문한 URL의 기록을 저장
    - `[http://nave](http://nave)` 이런식으로 입력한다면 브라우저는 `[http://naver.com](http://naver.com)` 을 보여준다.
    - 프록시를 사용할 경우 다르게 작동할 수 있음 (6장)

## 2.4 안전하지 않은 문자

- URL은 인터넷의 모든 리소스가 여러 프로토콜을 통해 전달 될 수 있도록
- 각 리소스의 유일한 이름을 지을 수 있게 설계됨
- URL에서는 출력이 되지 않거나 보이지 않는 문자를 사용 하는 것을 금지
- 이스케이프 기능을 통해 안전하지 않은 문자를 안전한 문자로 인코딩
    - `%` 기호로 시작해 ASCII 코드로 표현되는 두 개의 16진수 숫자로 바꿈
- 예약 문자(`%`, `/`, `.` 등)도 인코딩 필요 (pg. 42 참고)

## 2.5 스킴의 바다

pg.44 다양한 스킴 소개

## 2.6 미래

- URL의 단점: 리소스가 옮겨지면 더이상 사용할 수 없음
- 대안책: URN→ 리소스의 이름과 몇가지 정보만으로 리소스의 위치를 찾을 수 있음
- but.. URN을 지원하기 위해선 많은 변화가 필요하기 때문에 아직까진 URL이 사용됨
